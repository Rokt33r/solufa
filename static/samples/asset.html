<style>
#solufa {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
<div id="solufa"></div>

<script src="../js/Solufa.js"></script>
<script src="../js/MSXTransformer.js"></script>
<script src="../components/Solufa-OrbitVp.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<script type="text/msx;harmony=true">
var m = S.m;

m.mount( S.document.body, {
  controller: function() {
		return {
			lightStyle: { pos: [ 0, 1, 1 ], lightColor: "#fff" },
			amLightStyle: { lightColor: "#444" },
			posX: [ -260, -130, 0, 130, 260 ],
		};
  },
  view: function( ctrl ) {

    return <scene>
      { Array.apply( null, { length: 10 } ).map( ( e, i )=> ctrl.posX.map( x => <asset src="../asset/male02/asset.json" style={{ posX: x, posZ: -i * 100 }}/> ) )}
			<cam id="cam" style={{ pos: [ 0, 95, 400 ], lookAt: [ 0, 125, -500 ] }}/>
      <light init={{ type: "Dir" }} style={ ctrl.lightStyle }/>
			<light init={{ type: "Amb" }}/>
    </scene>;
  }
} );

m.render( S.document.head, <rdr init={{ frame: "#solufa", antialias: true, preserveDrawingBuffer: false }} clearColor="#fff">
	<OrbitVp cam="#cam"/>
</rdr> );
</script>
<script>
document.write( '<scr' + 'ipt src="http://' + location.hostname + ':35729/livereload.js?ext=Chrome&amp;extver=2.1.0"></scr' + 'ipt>' );
</script>
